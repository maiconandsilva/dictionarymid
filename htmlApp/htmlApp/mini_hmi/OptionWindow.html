<!DOCTYPE HTML> 

<!-- 

	DictionaryForMIDs 
	
	Option Window
	
	For entering options and for displaying statusvalues

 -->

<html>
  <head>
  	<script type="text/javascript">
		function displayApplicationEventFunction(eventText,
		                                         applicationCacheStatusValue) {
			document.body.innerHTML +=  eventText + "<br>";
			displayApplicationCacheStatus(applicationCacheStatusValue);
		}
		
		function displayApplicationCacheStatus(applicationCacheStatusValue) {
			document.getElementById("applicationCacheStatus").innerHTML = getAppCacheStatusString(applicationCacheStatusValue);
		}
		
		function getAppCacheStatusString(applicationCacheStatusValue) {
			appCache = opener.applicationCache;
			switch (applicationCacheStatusValue) {
			  case appCache.UNCACHED: // UNCACHED == 0
				return 'UNCACHED';
				break;
			  case appCache.IDLE: // IDLE == 1
				return 'IDLE';
				break;
			  case appCache.CHECKING: // CHECKING == 2
				return 'CHECKING';
				break;
			  case appCache.DOWNLOADING: // DOWNLOADING == 3
				return 'DOWNLOADING';
				break;
			  case appCache.UPDATEREADY:  // UPDATEREADY == 5
				return 'UPDATEREADY';
				break;
			  case appCache.OBSOLETE: // OBSOLETE == 5
				return 'OBSOLETE';
				break;
			  default:
				return 'UKNOWN CACHE STATUS';
				break;
			};
		}
		
		function initializeApplication() {
			displayApplicationCacheStatus(opener.applicationCache.status);
		}

		function closeOptionWindow() {
			close();
		}
		
		function onunloadOptionWindow() {
			opener.optionWindow = null;
		}
		
		displayApplicationEvent = displayApplicationEventFunction;
		window.onload = initializeApplication;
		window.onunload = onunloadOptionWindow;
	</script>
  </head>
  <body>
	<button onClick='closeOptionWindow();'>Close Window</button>
    <p>Application Cache Status: </p> <p id="applicationCacheStatus"></p> 
  </body>
</html>
